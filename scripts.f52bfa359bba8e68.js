window.onload=function(){const y=document.querySelector(".heart"),h=y.getContext("2d"),i=Math.cos,n=Math.random,o=56,q=y.height=innerHeight,u=y.width=innerWidth;let S=[],M=[];for(let e=0;e<=3;e++)for(let l=0;l<6.3;l+=.2*(e+1))M.push(w(l,3-e));for(let e=0;e<o;){let l=n()*u,t=n()*q,c=e/o*80+100*Math.random,s=40*n()+60,f=60*n()+20,r=[];for(let a=0;a<o;)r[a++]={x:l,y:t,X:0,Y:0,R:1-a/o+1,S:n()+1,q:~~(n()*o),D:e%2*2-1,F:.2*n()+.7,f:`hsla(${~~c},${~~s}%,${~~f}%,.5)`};S[e++]=r}function g(e){h.fillStyle=e.f,h.beginPath(),h.arc(e.x,e.y,e.R,0,6.3,1),h.closePath(),h.fill()}function w(e,l){return[u/2+(30+60*l)*Math.pow(Math.sin(e),3),q/2+(1+4*l)*-(15*i(e)-5*i(2*e)-2*i(3*e)-i(4*e))]}setInterval(()=>{h.fillStyle="rgba(0,0,0,.2)",h.fillRect(0,0,u,q);for(let e=o;e--;){let l=S[e],t=l[0],c=M[t.q],s=t.x-c[0],f=t.y-c[1],r=Math.sqrt(s*s+f*f);10>r&&(.95<n()?t.q=~~(n()*o):(.99<n()&&(t.D*=-1),t.q+=t.D,t.q%=o,0>t.q&&(t.q+=o))),t.X+=-s/r*t.S,t.Y+=-f/r*t.S,t.x+=t.X,t.y+=t.Y,g(t),t.X*=t.F,t.Y*=t.F;for(let a=0;a<55;)T=l[a],N=l[++a],N.x-=.7*(N.x-T.x),N.y-=.7*(N.y-T.y),g(N)}},25)};